// Generated by CoffeeScript 1.6.2
(function() {
  var childProcess, path, phantomjs;

  childProcess = require('child_process');

  path = require('path');

  phantomjs = require('phantomjs');

  module.exports = (function() {
    function _Class(dna) {
      this.dna = dna;
    }

    _Class.prototype.run = function(callback) {
      var stream;

      stream = childProcess.spawn(phantomjs.path, [path.join(__dirname, 'bridge.js')]);
      stream.stdin.setEncoding = 'utf-8';
      stream.stdin.write(JSON.stringify(this.dna) + "\n");
      return stream.stdout.on('data', function(data) {
        return callback(data);
      });
    };

    return _Class;

  })();

}).call(this);
